% !TeX encoding = ISO-8859-2

\chapter{Irodalom áttekintés}
A munka megkezdése elõtt számos publikációból merítettem ihletet mind a bordák, mind a csigolyák detektálására szánt algoritmus megvalósításához.
A téma mai napig aktívan kutatott, mutatja ezt az is, hogy a cikkek között már a probléma megközelítésében is óriási eltérések figyelhetõek meg.
Az általam megvizsgált írások között fellelhetõek atlasz alapú, gépi tanulás, illetve szekvenciális algoritmusokon alapuló módszerek.
Az alábbi sorokban ezek közül összegzek.

\section{Borda címkézés}
\subsection{Bordák szegmentálása alacsony dózisú CT felvételeken \cite{SegmOfRibs}}

Fontosnak találom megjegyezni, hogy e cikket vettem alapul az algoritmusom megvalósítása során.

\textbf{Tesztelt képek:}

A cikkben szereplõ algoritmus megvalósításához 115 különbözõ szeletvastagsággal rendelkezõ, alacsony dózisú mellkasi CT képet használtak fel a szerzõk.
Ebbõl 5 CT felvétel szolgált az algoritmus paramétereinek a behangolására, a további 110 CT felvételt az algoritmus
kiértékelésére használtak ahol 98\%-os pontosságot értek el.

\textbf{Elvi algoritmus:}

1. Csontszerkezet szegmentálása.

2. A gerinccsatorna közepének a meghatározása.

3. A középvonal és a szegmentált csont alapján a borda magjának (seed) meghatározása.

4. A magból különálló bordák növesztése elválasztva a hozzátartozó csigolyától.

\textbf{Csont szegmentálás}

A cikkben leírt csont szegmentálás eredménye tartalmazza az összes CT felvételen látható csontot, beleértve a gerincet, a bordákat, a szegycsontot, kulcscsontot, lapockákat.
A szegmentálást egy zajszûrés elõzi meg melyben egy 3x3-as szerkesztõelemmel dolgozó átlagoló szûrõt alkalmaznak.
Ezután a szûrt képet küszöbölik 175 HU-nál (Hounsfield) és ezzel elõ is áll az eredmény. 

\textbf{Gerinccsatorna megrajzolása}

A gerinccsatorna közepének a megrajzolása a szegmentált csontszerkezeten keresztül történik. 
A kezdõpontot (seed point) automatikusan határozzák meg a legalsó projekcióból.
A csatorna iteratívan kerül megrajzolásra az aktuális($I_{i}$) és a rákövetkezõ($I_{i-1}$) képszeletbõl.

\textbf{A gerinccsatorna megrajzolásának elvi algoritmusa:}

1. Kezdõpont megtalálása a legalsó képen.

2. 2D távolság transzforámció kiszámítása a rákövetkezõ képen.

3. A rákövetkezõ képen annak a pontnak a megtalálása ami a legközelebb van az aktuális képen kiszámolt ponthoz (1 lépésben ez a kezdõpont).

4. Ismételjük az elsõ és a második lépést.

5. A megtalált pontok együtt alkotják a gerinccsatorna középpontját.

\textbf{Bordák szegmentálása}

A szerzõk megállapították, hogy a bordák külön szegmentálásához azok csigolyáktól való elválasztása szükséges, mivel a szegmentált felvételen a csigolyák és a bordák egybefüggõ objektumként szerepelnek.
Ezért egy mag (seed) régió kerül meghatározásra a bordákon és ebbõl a régióból kezdõdik meg a bordák "növesztése" kifelé, illetve a gerinc felé haladva.

\textbf{Magrégió meghatározása}

A magrégiót egy \textit{w} érték beállításával határozzák meg.
A \textit{w} a gerinccsatorna közepétõl vett távolságot jelenti, jobbról illetve balról.
Azokat a régiókat nevezik bordához tartozó mag régióknak a szerzõk, melyekre két kritérium teljesül.
Elõször is az intenzitásuk magasabb, mint az elõre megadott küszöbérték (175 HU).
Másodszor a régiónak teljes szélességében bordát kell tartalmaznia.

\textbf{Bordák növesztése}

Végezetül a magrégióból kinövesztik a bordákat egyszerû 3D régiónövelést alkalmazva (3D region growing).

\textbf{Eredmények:}

Az algoritmust 110 CT felvételen tesztelték melyeken összesen 2632 borda szerepelt ebbõl
2600 (98.8\%) bordát sikerült sikeresen szegmentálni. A 32 meg nem talált bordából 6 a legfelsõ
borda volt míg a maradék 26 a legalsó bordák közül került ki.

\subsection{Bordák szegmentálása CT képeken, cikkösszefoglaló \cite{Rew}}
Az ebben a cikkben tárgyalt módszerek 15 kutatásból kerültek kiválogatásra, melyek 1999 és 2013
között íródtak. Ezek az írások tartalmaznak egészséges, roncsolódott és gyermek páciensekrõl
készült felvételeket.

\textbf{Priorinformáció nélküli módszerek}

\textit{- Küszöbölés}

\textbf{1.} 2010, Furuhashi et al. \cite{furu} módszere:

Adaptív küszöbölés hisztogram analízis alapján, mellyel
három, vagy négy fõ szürke árnyalat jelenlétének az elõfordulását határozzák meg.
Mindegyik ilyen árnyalat megfeleltethetõ, a levegõnek, lágy szövetnek és a csontoknak, ez alapján
választják meg a küszöbértéket, ahol, csak a csont-ra utaló árnyalatokat tartják meg a képen.

\textbf{2.} 2010, Banik et al. \cite{banik} módszere:

Több szintû küszöbölést használnak (HU skála alapján).
Az eredményt pedig morfológiai mûveletek bevetésével finomítják.
A küszöbölt képen morfológiai nyitást alkalmaznak, hogy elválasszák a bordákat a csigolyáktól. 
Ezt követõen az axiális szeleteken meghatározzák a középvonalat amely végig megy a gerincen (gerinccsatorna).
Ez azért szükséges, mert ha egy régió megfelelõ távolságra van ettõl a ponttól, (és átment a küszöbölésen) akkor az a borda része.
Ezután a megtalált borda szerkezetének a fejlesztésére további morphológiai mûveleteket alkalmaznak.

\textbf{3.} 2009, Zhou et al. \cite{zhou} módszere:

Dinamikus hisztogram analízist használnak a küszöböléshez.
Ez a módszer úgy tekint a csont és a máj régióra mint két Gauss eloszlásra és ezeket kombinálva találja meg a legjobb threshold értéket. Ezután a csontrégiókat 60 kategóriába sorolják (csigolyák (18) bordák(12), szegycsont (3) stb..)

\textit{- Rekurzív megrajzolás (tracing)}

\textbf{1.} 2004, Shen et al. \cite{shen} módszere:

A mellkashoz közel keresnek magpontot a bordákon, majd ebbõl a magpontból alkalmaznak régiónövelést.

\textbf{2.} 2010, H. Li et al. \cite{li} módszere:

Hough transzformációt használnak, hogy megtalálják az elsõ
bordát a szagitális szeletek sorozatában meghatározott dõlésszögû és hosszú vonalat keresve.
Azt a szeletet, melyen megtalálják az ennek megfelelõ vonalat (bordát) kulcs szagitális
szeletnek nevezik (KSP) és a borda közepét magpontnak tekintik.

\textbf{3.} 2012, Zhang et al. \cite{zhang} módszere:

A módszer a koronális szeletek követésével képes teljesen elválasztott 12 bordát szegmentálni, a középsõ szeletbõl kiindulva.
A lehetséges bordát tartalmazó területeket 110 HU-nál thresholdolják.

\textbf{4.} 2012, Yao et al. \cite{yao} módszere: 

A gerinc szegmentálásával kezdõdik.
A bordákat 200 HU felett és 2cm-re a szegmentált gerinctõl detektálják.
Majd egy kereszt sekciót (cross section) definiálnak a detektált szerkezet közepére.
Az elsõ cross section meghatározása után az algoritmus egy B-spline görbével határozza meg a következõ cross sectiont.

\textit{-Régiónövelés (Region growing)}

\textbf{1.} 2002, Kim et al. \cite{kim} módszere:

Hibrid módszer rekurzív megrajzolással (recursive tracing) és régiónöveléssel.
A célobjektumot a felhasználó által megadott kezdõpontból növeszti ki.
Porckorong szivárgást (leakage) detektálhatunk vele.
A szivárgást akkor találja meg amikor egy nem célobjektum összeolvad egy célobjektummal a következõ szeleten.

\textbf{2.} 2012, Ramakrishnan et al. \cite{ramakrishnan} módszere:

3D középvonal kinyerése a torakális gerincnél.
A szerzõk módszere két részre osztható.

a) Elõfeldolgozás ahol meghatározzák a gerinc középvonalát az axiális vetületekbõl.
A csontrégió az összefüggõ komponens analízis során kerül meghatározásra.
Az összefüggõ komponensek közepét tekintik potenciális magpontnak (seed point).

b) A magpont meghatározása után Tracing Random Walker algoritmust használnak.


\textbf{Priorinformáció alapú módszerek}

\textit{-Bordaketrec modell alapján}

\textbf{1.} 2012 Wu et al. \cite{wu} módszere:

A borda magpontját mintaillesztéssel, tanulás alapú objektum középvonal detektáló algoritmussal határozzák meg.
Tanító adatbázisnak 40 CT felvételt használnak, melyet kézzel annotáltak.
A tanulás során elõáll egy probability response map amely megadja mindegyik voxel-re, hogy mekkora valószínûséggel tartozik bordához.

\textit{-Prior tudás alapján}

\textbf{1.} 2013, Gargouri et al.\cite{gargouri} módszere:

Mindegyik csont voxelhez egy jellemzõ vektort rendelnek.
Az elsõ alakleíró jellemzõ az úgynevezett Axial-inertia descriptor.
Itt különösen az adott voxel halmaz lokális görbületére koncentrálnak. 
A második jellemzõ az úgynevezett Rotation Invariant Shape Context Descriptor.
Mindegyik csont voxelre kiszámolnak 56 sávot melyeknek a sugarait véletlenszerûen választják 2 és 35 között. Aztán az összes sávra kiszámolják, hogy hány csont voxelt érint.
Ebbõl pedig elõáll a jellemzõ.

\textbf{2.} 2007, Staal et al. \cite{staal} 5 lépéses módszere:

1. Küszöbölés 100 HU-nál és az 1D gerinc voxel (1D ridge voxel) meghatározása.

2. Primitív elemek meghatározása az 1D gerinc voxelekbõl. A régiónövelés magpontját
véletlenszerûen választják ki a gerinc voxelekbõl.

3. Spin-glass osztályozóval elválasztják a bordákat az egyéb primitívektõl. Ehhez kétféle
jellemzõt használnak, az egyik a lokális jellemzõ mely tartalmazza a geometriai 
információját a primitívnek a másik az intenzitás alapú jellemzõk és olyan jellemzõk,
amelyek a primitívek közötti kapcsolatot kódolják le. Az összes jellemzõ közül azokat
tartják meg melyek a legjobb teljesítményt nyújtják.

4. A következõ lépésben a borda primitívek középvonalakká kerülnek csoportosításra.

5. Végül az egész szegmentálásra egy régiónövelõ algoritmust alkalmaznak.


\section{Csigolya címkézés}

\subsection{Mérföldkõ a CT csigolyaszegmentálásban \cite{milstone}}

\textbf{Tesztelt képek:}

Ebben a cikkben 5 algoritmust (módszert) hasonlítanak összes, melyet 5 különbözõ csapat írt
meg a 2014 International Conference on Medical Image Computing and Computer Assisted
Intervention (MICCAI) Workshop-on. A módszereket 10 tanítóképen, és 5 tesztképen
tesztelték a workshoppon: ezek a képek mind egészséges páciensekrõl készültek. A workshop
után további 5 abnormális eseten is tesztelték az algoritmust, hogy abnormális helyzetekben
is kiértékeljék a teljesítményüket. A kiértékelési metrika a kockázati együttható, és az abszolút
felületi távolság (absolute surface distances) volt.

\textit{Az 5 módszer bemutatás röviden:}

\textbf{Módszer 1:}

Elõfeldolgozás, kezdeti sorba állítás, nem merev regisztráció és címke fúzió (label fusion). Az
elõfeldolgozó lépés a gerinccsatorna szegmentálásából, disc detektálásból, és csigolya pozíció
és rotáció becslésbõl áll.

\textbf{Módszer 2:}

Statisztikai csigolya alak és pozíció modellen alapul, mely a gerincoszlop csontos éleit
regisztrálja. Tanulóadatot gyûjtenek az összes csigolyáról, és különálló submodelleket építenek
belõlük, egy csigolyához tartozó submodell tartalmazza a három szomszédos csigolya adatait.
A modell paramétereit az EM (expectation maximization) algoritmussal optimalizálják.

\textbf{Módszer 3:}

A súlyozott totál variációt kombinálja a csont intenzitás, és alak információval. A csont
intenzitás predikcióhoz, a normalizált elõteret (csont) és a háttér hisztogramját tanulja meg
egy annotált adatbázisból.

\textbf{Módszer 4:}

Két részbõl áll, csigolya detektálás, és csigolyaszegmentálás. Spline interpoláción alapuló
módszerekkel határozzák meg a gerincoszlopot. A csigolya befoglalásokat Canny
éldetektálással, és random forrest regressiós modell alkalmazásával határozzák meg.

\textbf{Módszer 5:}

Csak lumbális csigolyákat dolgoznak fel. Egy független 30 felvételt tartalmazó adatbázisból
mindegyik csigolyára megalkotnak egy statisztikai alakmodellt (statistical shape models
(SSM)). A manuálisan elhelyezett porckorong középpontokból kiszámolják a csigolya kezdõ
alakját. Eztán ezt a kezdõalakot iteratívan változtatják a csigolya intenzitásához viszonyítva.


